import socket
from collections import defaultdict
addresses = [
    ('2001:4860:8040:0826:0000:00ac:b953:bbae', 14514),
    ('2001:4860:8040:0826:0000:00ad:2609:ae07', 14667),
    ('2001:4860:8040:0826:0000:00ac:b955:f70c', 25502),
    ('2001:4860:8040:0826:0000:00ac:b955:f8ea', 14460),
    ('2001:4860:8040:0826:0000:00ac:b955:f950', 14548),
    ('2001:4860:8040:0826:0000:00ad:08da:be2a', 14629),
    ('2001:4860:8040:0826:0000:00ac:f051:0ee6', 14336),
    ('2001:4860:8040:0826:0000:00ad:0711:b541', 26155),
    ('2001:4860:8040:0826:0000:00ac:f3c2:7e41', 14612),
    ('2001:4860:8040:0826:0000:00ac:e631:8ee9', 14871),
    ('2001:4860:8040:0826:0000:00ad:09d9:ba93', 26235),
    ('2001:4860:8040:0826:0000:00ac:fdf3:d685', 14659),
    ('2001:4860:8040:0826:0000:00ac:d1a8:c597', 25615),
    ('2001:4860:8040:0826:0000:00ac:ddf6:ad86', 14193),
    ('2001:4860:8040:0826:0000:00ad:0df8:f95f', 25753),
    ('2001:4860:8040:0826:0000:00ad:019b:48d0', 25549),
    ('2001:4860:8040:0826:0000:00ac:f6d5:a139', 25316),
    ('2001:4860:8040:0826:0000:00ad:0f40:397f', 14325),
    ('2001:4860:8040:0826:0000:00ac:b956:b87f', 25631),
    ('2001:4860:8040:0826:0000:00ad:1275:a8b0', 25411),
    ('2001:4860:8040:0826:0000:00ad:0e56:a7a2', 26088),
    ('2001:4860:8040:0826:0000:00ac:b956:b8a4', 14878),
    ('2001:4860:8040:0826:0000:00ac:b956:b890', 25845),
    ('2001:4860:8040:0826:0000:00ad:1348:4590', 25707),
    ('2001:4860:8040:0826:0000:00ad:08bc:7302', 14809),
    ('2001:4860:8040:0826:0000:00ad:16a0:4a5f', 26067),
    ('2001:4860:8040:0826:0000:00ac:f9bb:c7dd', 26010),
    ('2001:4860:8040:0826:0000:00ad:0d5e:8cfd', 26221),
    ('2001:4860:8040:0826:0000:00ad:07a8:f4c7', 25919),
    ('2001:4860:8040:0826:0000:00ad:0da6:1fe7', 25683),
    ('2001:4860:8040:0826:0000:00ad:1ff4:c162', 14178),
    ('2001:4860:8040:0826:0000:00ad:2749:5d99', 14395),
    ('2001:4860:8040:0826:0000:00ad:03fc:1c23', 26170),
    ('2001:4860:8040:0826:0000:00ac:b958:8731', 25598),
    ('2001:4860:8040:0826:0000:00ac:ede0:f427', 26280),
    ('2001:4860:8040:0826:0000:00ac:fe8d:78c7', 14680),
    ('2001:4860:8040:0826:0000:00ad:090e:41a9', 25942),
    ('2001:4860:8040:0826:0000:00ad:0808:07d5', 14527),
    ('2001:4860:8040:0826:0000:00ad:0c40:41c5', 25872),
    ('2001:4860:8040:0826:0000:00ad:130d:ebdf', 25528),
    ('2001:4860:8040:0826:0000:00ac:ffaa:e78b', 14839),
    ('2001:4860:8040:0826:0000:00ac:e853:9134', 25689),
    ('2001:4860:8040:0826:0000:00ad:0625:a92d', 14185),
    ('2001:4860:8040:0826:0000:00ad:0437:1d09', 26117),
    ('2001:4860:8040:0826:0000:00ad:0c10:5201', 26295),
    ('2001:4860:8040:0826:0000:00ac:f78f:f705', 14303),
    ('2001:4860:8040:0826:0000:00ad:0fb3:0b70', 14970),
    ('2001:4860:8040:0826:0000:00ad:0bc1:f3a8', 14580),
    ('2001:4860:8040:0826:0000:00ac:fef5:794e', 14888),
    ('2001:4860:8040:0826:0000:00ad:097f:b85a', 14758),
    ('2001:4860:8040:0826:0000:00ac:c5aa:1751', 14162),
    ('2001:4860:8040:0826:0000:00ac:d044:d360', 25635),
    ('2001:4860:8040:0826:0000:00ac:b95a:006e', 14367),
    ('2001:4860:8040:0826:0000:00ac:ee6c:e712', 25578),
    ('2001:4860:8040:0826:0000:00ad:0dc6:623d', 14477),
    ('2001:4860:8040:0826:0000:00ac:d0d6:3053', 14015),
    ('2001:4860:8040:0826:0000:00ad:0ac5:cfeb', 26114),
    ('2001:4860:8040:0826:0000:00ad:1253:d3ff', 14223),
    ('2001:4860:8040:0826:0000:00ac:b95c:d4a8', 25862),
    ('2001:4860:8040:0826:0000:00ac:b95c:d4a6', 14883),
    ('2001:4860:8040:0826:0000:00ad:130d:eb2e', 25610),
    ('2001:4860:8040:0826:0000:00ad:1253:d40f', 14534),
    ('2001:4860:8040:0826:0000:00ac:b969:0376', 25544),
    ('2001:4860:8040:0826:0000:00ad:2446:3374', 25500),
    ('2001:4860:8040:0826:0000:00ac:e192:45f4', 25384),
    ('2001:4860:8040:0826:0000:00ad:0be5:c935', 25359),
    ('2001:4860:8040:0826:0000:00ac:b969:0295', 14164),
    ('2001:4860:8040:0826:0000:00ad:0be5:c876', 25890),
    ('2001:4860:8040:0826:0000:00ac:fcc7:feb8', 26003),
    ('2001:4860:8040:0826:0000:00ad:0ca4:58f0', 25794),
    ('2001:4860:8040:0826:0000:00ad:0be5:c8cc', 26248),
    ('2001:4860:8040:0826:0000:00ad:0f40:38fa', 25451),
    ('2001:4860:8040:0826:0000:00ac:b969:0248', 25539),
    ('2001:4860:8040:0826:0000:00ad:02bb:0f26', 14158),
    ('2001:4860:8040:0826:0000:00ad:0e19:f3a1', 14646),
    ('2001:4860:8040:0826:0000:00ac:bbf6:b9c0', 25770),
    ('2001:4860:8040:0826:0000:00ad:2bbf:6be0', 14466),
    ('2001:4860:8040:0826:0000:00ac:d585:9c3d', 14044),
    ('2001:4860:8040:0826:0000:00ad:0ff4:1d97', 14997),
    ('2001:4860:8040:0826:0000:00ac:f1e5:5c58', 26280),
    ('2001:4860:8040:0826:0000:00ad:2432:7d0d', 14554),
    ('2001:4860:8040:0826:0000:00ac:ddf6:ad8f', 25345),
    ('2001:4860:8040:0826:0000:00ad:0ff4:1d89', 14358),
    ('2001:4860:8040:0826:0000:00ad:137f:0e89', 26086),
    ('2001:4860:8040:0826:0000:00ac:b969:a1e8', 14800),
    ('2001:4860:8040:0826:0000:00ad:29a8:731a', 14101),
    ('2001:4860:8040:0826:0000:00ad:09ed:e539', 14586),
    ('2001:4860:8040:0826:0000:00ac:b969:a1e2', 14923),
    ('2001:4860:8040:0826:0000:00ad:1354:6e00', 26186),
    ('2001:4860:8040:0826:0000:00ac:efb0:4ed9', 14778),
    ('2001:4860:8040:0826:0000:00ad:21b0:1c20', 25562),
    ('2001:4860:8040:0826:0000:00ad:1354:6e89', 14992),
    ('2001:4860:8040:0826:0000:00ad:0f8d:87e6', 14200),
    ('2001:4860:8040:0826:0000:00ad:0b0d:8a5a', 25652),
    ('2001:4860:8040:0826:0000:00ac:b96c:803b', 25807),
    ('2001:4860:8040:0826:0000:00ac:fd52:afae', 25907),
    ('2001:4860:8040:0826:0000:00ad:2764:db06', 14829),
    ('2001:4860:8040:0826:0000:00ad:18bc:a479', 14707),
    ('2001:4860:8040:0826:0000:00ad:18bd:169d', 25672),
    ('2001:4860:8040:0826:0000:00ad:18e9:dc62', 26021),
    ('2001:4860:8040:0826:0000:00ad:18ea:0836', 25934),
    ('2001:4860:8040:0826:0000:00ad:18ea:0834', 14582),
    ('2001:4860:8040:0826:0000:00ad:18ea:0838', 25831),
    ('2001:4860:8040:0826:0000:00ad:1daf:bccd', 14263),
    ('2001:4860:8040:0826:0000:00ad:1df0:a27f', 25715),
    ('2001:4860:8040:0826:0000:00ad:1df0:a281', 26096),
    ('2001:4860:8040:0826:0000:00ad:1e4b:9b0b', 14332),
    ('2001:4860:8040:0826:0000:00ad:1e4b:9b06', 25617),
    ('2001:4860:8040:0826:0000:00ad:1e4b:9b0f', 14610),
    ('2001:4860:8040:0826:0000:00ad:27ac:5867', 14166),
    ('2001:4860:8040:0826:0000:00ad:27af:4751', 14146),
    ('2001:4860:8040:0826:0000:00ad:27af:4740', 14028),
    ('2001:4860:8040:0826:0000:00ad:27c4:2fbf', 26277),
    ('2001:4860:8040:0826:0000:00ad:2835:bb1a', 25547),
    ('2001:4860:8040:0826:0000:00ad:2835:bb18', 14821),
    ('2001:4860:8040:0826:0000:00ad:2835:bb13', 14720),
    ('2001:4860:8040:0826:0000:00ad:288c:c01b', 14636),
    ('2001:4860:8040:0826:0000:00ad:288c:c019', 14565),
    ('2001:4860:8040:0826:0000:00ad:2895:d9d7', 14314),
    ('2001:4860:8040:0826:0000:00ad:2895:d9cb', 14473),
    ('2001:4860:8040:0826:0000:00ad:2895:d9cd', 14443),
    ('2001:4860:8040:0826:0000:00ad:2895:d9d1', 25407),
    ('2001:4860:8040:0826:0000:00ad:2895:d9de', 14936),
    ('2001:4860:8040:0826:0000:00ad:2895:d9cf', 14652),
    ('2001:4860:8040:0826:0000:00ad:2895:d9dc', 25573),
    ('2001:4860:8040:0826:0000:00ad:289c:7b87', 14561),
    ('2001:4860:8040:0826:0000:00ad:289c:7b71', 14213),
    ('2001:4860:8040:0826:0000:00ad:289c:7b85', 14657),
    ('2001:4860:8040:0826:0000:00ad:289d:9230', 14040),
    ('2001:4860:8040:0826:0000:00ad:289d:924f', 26061),
    ('2001:4860:8040:0826:0000:00ad:289d:924d', 14617),
    ('2001:4860:8040:0826:0000:00ad:28a7:fc4c', 25968),
    ('2001:4860:8040:0826:0000:00ad:28a7:fc6a', 25973),
    ('2001:4860:8040:0826:0000:00ad:28a7:fc68', 14566),
    ('2001:4860:8040:0826:0000:00ad:28a7:fc4e', 26242),
    ('2001:4860:8040:0826:0000:00ad:28a7:fc4a', 14903),
    ('2001:4860:8040:0826:0000:00ad:28a7:fc23', 14448),
    ('2001:4860:8040:0826:0000:00ad:28a7:fc66', 26000),
    ('2001:4860:8040:0826:0000:00ad:2966:3f72', 14175),
    ('2001:4860:8040:0826:0000:00ad:2966:3f74', 14167),
    ('2001:4860:8040:0826:0000:00ad:2966:3f7a', 26289),
    ('2001:4860:8040:0826:0000:00ad:2966:3f77', 14997),
    ('2001:4860:8040:0826:0000:00ad:2966:3f11', 14421),
    ('2001:4860:8040:0826:0000:00ad:2966:3f94', 14180),
    ('2001:4860:8040:0826:0000:00ad:29ab:ddfe', 25970),
    ('2001:4860:8040:0826:0000:00ad:29ab:de16', 14146),
    ('2001:4860:8040:0826:0000:00ad:29ab:de14', 25517),
    ('2001:4860:8040:0826:0000:00ad:29ab:de18', 25803),
    ('2001:4860:8040:0826:0000:00ad:29ab:de12', 14622),
    ('2001:4860:8040:0826:0000:00ad:29ab:fe44', 14655),
    ('2001:4860:8040:0826:0000:00ad:29e5:85de', 14605),
    ('2001:4860:8040:0826:0000:00ad:29e7:6e32', 25921),
    ('2001:4860:8040:0826:0000:00ad:29e7:6e83', 25666),
    ('2001:4860:8040:0826:0000:00ad:29e7:6e6b', 14590),
    ('2001:4860:8040:0826:0000:00ad:29e7:72ad', 25605),
    ('2001:4860:8040:0826:0000:00ad:29e7:6ebc', 25725),
    ('2001:4860:8040:0826:0000:00ad:29e9:692d', 14059),
    ('2001:4860:8040:0826:0000:00ad:29e9:6959', 14064),
    ('2001:4860:8040:0826:0000:00ad:29ed:2268', 14542),
    ('2001:4860:8040:0826:0000:00ad:29ed:2241', 25578),
    ('2001:4860:8040:0826:0000:00ad:29ed:223f', 14319),
    ('2001:4860:8040:0826:0000:00ad:29ed:2272', 14426),
    ('2001:4860:8040:0826:0000:00ad:29ed:2274', 14218),
    ('2001:4860:8040:0826:0000:00ad:2a99:55b3', 14174),
    ('2001:4860:8040:0826:0000:00ad:29ed:229f', 14943),
    ('2001:4860:8040:0826:0000:00ad:29f1:361c', 25451),
    ('2001:4860:8040:0826:0000:00ad:29f2:c056', 25489),
    ('2001:4860:8040:0826:0000:00ad:29f6:f7af', 14460),
    ('2001:4860:8040:0826:0000:00ad:2a53:4c55', 14197),
    ('2001:4860:8040:0826:0000:00ad:2a53:4c53', 14164),
    ('2001:4860:8040:0826:0000:00ad:2a53:4c4f', 14184),
    ('2001:4860:8040:0826:0000:00ad:2a53:4c4d', 14167),
    ('2001:4860:8040:0826:0000:00ad:2a53:4c2f', 25674),
    ('2001:4860:8040:0826:0000:00ad:2a53:4c4a', 14610),
    ('2001:4860:8040:0826:0000:00ad:2a54:e8fe', 14172),
    ('2001:4860:8040:0826:0000:00ad:2a63:2b65', 14666),
    ('2001:4860:8040:0826:0000:00ad:2a63:2c5a', 26147),
    ('2001:4860:8040:0826:0000:00ad:2a63:2c52', 14506),
]
num_runs = 10
failed_tally = defaultdict(int)
for i in range(num_runs):
    num_succeeded = 0
    num_failed = 0
    print(f"run {i+1}")
    for address in addresses:
        try:
            sock = socket.create_connection(address, timeout=5)
            num_succeeded += 1
        except Exception as e:
            print(f"Connection failed: {address}")
            num_failed += 1
            failed_tally[address] += 1
    print(f"num_succeeded: {num_succeeded}")
    print(f"num_failed: {num_failed}")
for k, v in failed_tally.items():
  print(f"{k} failed {v} times")
